---
title: 【ElasticSearch系列连载】5. ES入门基础操作
categories:
* 技术手册
tags:
* 搜索
* ElasticSearch
date: 2022-06-02 00:46:25
---

![](https://nginx.mostintelligentape.com/blogimg/202205/es/es_logo.jpg)

# 【ElasticSearch系列连载】5. ES入门基础操作

## 1 ES 数据格式-JSON

我们要存储的对象通常不是简单的键值对就能表示的，更多的情况是需要存储更加复杂的数据结构，比如数组、地址、嵌套结构等等。

如果我们使用传统的关系型数据库进行常见的行列存储的话，很多情况我们都需要将一些复杂的数据结构拍平，通过构造一个宽表来存储你的数据，或者需要将你的数据通过逗号分隔等形式拥挤的存储在一个字段中，每次从数据库写入和读取数据都需要进行序列化和反序列化的操作。

Elasticsearch是面向文档的，能够直接将复杂的对象进行存储，同时还能对复杂数据结构中的各个字段建立索引来让它能够被高效的检索到。在使用Elasticsearch的过程中，你建立索引的对象、搜索的对象、排序的对象以及筛选的对象都是文档，而不是行列格式的关系型数据，这是ES和其他关系型数据库最大的不同之一，以及为什么ES能够提供复杂的全文搜索。

![](https://nginx.mostintelligentape.com/blogimg/202206/es/sql-vs-nosql.jpg)



## 2 索引的概念

索引，建索引，倒排索引

V2.X的索引，类型，文档的和关系型数据库的关系
V7.0后的索引，类型，文档和关系型数据库的关系

含义
Index：索引。复数是 Indices。
Type：类型。
Document：文档。
文档是 JSON 类型的。

与 MySQL 类比
可以将 ES 中的这三个概念和 MySQL 类比：

Index 对应 MySQL 中的 Database；
Type 对应 MySQL 中的 Table；
Document 对应 MySQL 中表的记录。
一个MySQL实例中可以创建多个 Database，一个Database中可以创建多个Table。

从 ES 7.0 开始，Type 被废弃
在 7.0 以及之后的版本中 Type 被废弃了。一个 index 中只有一个默认的 type，即 _doc。

ES 的Type 被废弃后，库表合一，Index 既可以被认为对应 MySQL 的 Database，也可以认为对应 table。

也可以这样理解：

ES 实例：对应 MySQL 实例中的一个 Database。
Index 对应 MySQL 中的 Table 。
Document 对应 MySQL 中表的记录。

## 3 花名册场景实例

### 3.1 对文档建立索引
### 3.2 获取文档
### 3.3 简易搜索
### 3.4 使用DSL搜索
### 3.5 复杂搜索
### 3.6 全文搜索
### 3.7 Phrase搜索
### 3.8 高亮搜索结果
### 3.9 分析与统计

## 4 分布式
## 5 总结
