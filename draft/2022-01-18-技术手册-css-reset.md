---
title: 如何做更好的浏览器样式重置(CSS Reset)
categories:
- 技术手册
tags:
- 前端
- CSS
date: 2022-01-18 00:46:25
---

## 什么是CSS Reset

`如果你不定义html元素的默认css样式，那么浏览器自己就会用它自己的默认样式；但由于不同浏览器的默认样式是不一样的，会导致你开发的页面在不同的浏览器上会看上去不太一样；所以，为了避免页面在不同的浏览器上有不同的效果，我们通常需要显示地对html元素的css样式进行一些默认设置，来将“浏览器自带的设置”重置掉，这个就叫做CSS Reset`

在一开始，CSS的工作方式没有完全标准化，所以每个浏览器（IE，Chrome，Firefox，Safari）都实现了它认为正确的东西。 

各个浏览器将自认为合适的“边框”，“填充”，“边距”，“字体”，“行高”等样式加载到一些基础元素（input，div，a，span）中，以赋予页面独特的感觉。

如下图，可以看到，很基础的html元素在IE，Chrome，Firefox，Opera中的显示不尽相同。

![](https://nginx.mostintelligentape.com/blogimg/202201/13plus1/2.png)

所以，为了避免页面在不同的浏览器上有不同的效果，我们通常需要显示地对html元素的css样式进行一些默认设置，来将“浏览器自带的设置”重置掉，这个就叫做**CSS Reset**。

## 使用CSS Reset的弊端

其实也有很多“不建议使用CSS Reset”的声音，主要有以下几个原因

1. 所有的html元素都需要重新设置，会增加css文件的大小
2. 如果重置掉一些基础属性，开发时会容易忘掉补充这些属性，反而引入显示混乱的问题
3. 重置掉一些属性会影响用户通过键盘快捷键操作


## 辩证的判断是否需要CSS Reset

从历史上看，CSS Reset的主要目标是确保浏览器之间的一致性，并撤消所有默认样式，创建一个空白板。

但是如今浏览器在布局或间距方面并没有太大的差异。总的来说，浏览器忠实地实现了CSS规范，并且一切都如你所愿，所以不再那么需要了。

总之，我们应该根据实际的需求辩证的判断是否需要CSS Reset，保持简洁，保持高效即可。

下面列出一个比较合适的CSS Reset模板，不会完全重置浏览器的默认样式而带来不便，同时能够避免一些常见的浏览器兼容性的问题。

## 一个合适的CSS Reset模板

之前一直有一个[2008年的模板](https://meyerweb.com/eric/tools/css/reset/)被大家奉为经典，但是由于浏览器的更新换代，以及这个模板迟迟没有更新，导致这个模板已经不是那么好用了。

下面是一个参考的[更新版本的CSS Reset模板](https://www.joshwcomeau.com/css/custom-css-reset/)，并会针对模板的内容逐一进行讲解为什么这么做。

```
/*
  1. 使用更直观的盒模型（box-sizing）
*/
*, *::before, *::after {
  box-sizing: border-box;
}

/*
  2. 取消默认margin
*/
* {
  margin: 0;
}

/*
  3. 允许通过百分比设置应用的高度
*/
html, body {
  height: 100%;
}

/*
  4. 更合适的行高
  5. 优化text的渲染效果
*/
body {
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

/*
  6. 多媒体展示优化
*/
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
}

/*
  7. 移除内置表单的排版样式
*/
input, button, textarea, select {
  font: inherit;
}

/*
  8. 避免文本溢出
*/
p, h1, h2, h3, h4, h5, h6 {
  overflow-wrap: break-word;
}

/*
  9. 在根部创建叠层上下文
*/
#root, #__next {
  isolation: isolate;
}
```

### 1. 使用更直观的盒模型（box-sizing）





您在 IE 中看到如此多关于样式错误的问题的原因之一是，IE 是在样式方面与其他浏览器最不同的浏览器。 尽管 IE 已经改进，其他浏览器也有所改进，但它们仍然将自己的边框、填充和边距、缩放、字体应用于元素，以赋予页面自己独特的感觉。 一个例子是，chrome 为文本框提供了自己的黄色边框。 “重置”实际上将所有这些样式“重置”为零/无，因此您看不到任何尚未应用于页面的样式。

如果这些样式未“重置”，您将看到不需要的样式/效果和破坏。 通常建议“重置”浏览器的样式。




每当开始一个新的前端项目时，首要任务就是对CSS的进行一些通用化的设置，来避免由于不同浏览器各自的默认CSS样式给用户带来体验上的差异，甚至是bug。 

这个通用化的设置我们叫做**CSS Reset**


很长一段时间，我使用 Eric Meyer 著名的 CSS Reset。 这是 CSS 的一大块，但在这一点上它有点长； 它已经十多年没有更新了，从那以后发生了很多变化！

最近，我一直在使用自己的自定义 CSS 重置。 它包括我发现的所有改善用户体验和 CSS 创作体验的小技巧。

像其他 CSS 重置一样，它在设计/化妆品方面是无主见的。 无论您追求何种美学，您都可以将此重置用于任何项目。

在本教程中，我们将参观我的自定义 CSS 重置。 我们将深入研究每条规则，您将了解它的作用以及您可能想要使用它的原因！

链接到这个标题


## 参考资料
https://www.webfx.com/blog/web-design/should-you-reset-your-css/
https://stackoverflow.com/questions/11578819/css-reset-what-exactly-does-it-do
https://www.joshwcomeau.com/css/custom-css-reset/