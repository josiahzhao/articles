---
title: 不小心删除了docker容器怎么办？
categories:
- 技术手册
tags:
- 工具
date: 2022-02-21 00:46:25
---
## 结论
先说结论：可以恢复
去***找即可
相关背景、原理和发现过程参见下文
## 背景
docker作为优秀的开源容器引擎，能够像集装箱一样以一种非常标准化、轻量、可移植的方式帮助我们进行开发、交付和运行应用程序。

![](https://nginx.mostintelligentape.com/blogimg/202112/CDN/F27BA3AA-E566-444D-A394-949D6BFA5BF8.png)

当镜像运行起来成为容器时会需要相关的存储资源来支撑软件服务的运行，如存储的日志文件，用户传入的数据，伴随运行生成的文件等。

由于docker运行程序实在是太便利了，在有些时候，一些用于调试的docker项目（自研、开源），不知不觉就投入了使用，并没有对数据做很合理安全的配置（挂载，备份），此后如果一不小心删除了运行中的容器，再启动镜像时，就会发现这是一个全新的服务，之前程序运行过程中积累的状态数据、用户数据、日志数据不复存在。

笔者最近就遇到了这个问题，调研了一个开源的OA系统，在测试阶段，很好用，对接了内部的认证系统后，很多同事纷纷上去试用，不知不觉积累了很多数据；突然有一天，运维同事在这个开发环境为了升级这个服务，便执行了。
```
docker rm {这个OA容器}
```

当天晚上，很多行政同事就炸锅了，说自己的这一周的**报表、报告都在上面，以为是正式环境。

怎么办？

## 关于volumns

如图

https://deepzz.com/post/the-docker-volumes-basic.html

https://www.saoniuhuo.com/question/detail-2031242.html

https://docs.docker.com/storage/volumes/